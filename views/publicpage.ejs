<!doctype html>
<html>
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title><%= biz.publicTitle || biz.name %></title>
    <style>
      :root {
        --bg1: #0ea5e9;
        --bg2: #6366f1;
        --accent: #111827;
        --text: #111827;
        --muted: #374151;
      }
      body {
        margin: 0;
        font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
        background: linear-gradient(135deg, var(--bg1), var(--bg2));
        color: var(--text);
      }
      .container { max-width: 960px; margin: 0 auto; padding: 40px 20px; text-align: center; }
      .brand { margin-bottom: 20px; }
      .brand img { max-height: 80px; margin-bottom: 14px; }
      h1 { font-size: 2rem; margin: 0 0 .25rem 0; color: var(--accent); }
      .cta-top { font-size: 1rem; color: var(--muted); margin-top: 6px; }

      .qr-wrap { margin-top: 20px; }
      .qr-grid {
        display: grid;
        gap: 16px;
      }
      .qr-item {
        background: rgba(255,255,255,0.85);
        backdrop-filter: blur(8px);
        border-radius: 20px;
        padding: 18px;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      }
      .qr-item h2 { margin: 0 0 .5rem 0; }
      .qr img { width: 200px; height: auto; border-radius: 12px; }

      footer { margin-top: 40px; font-size: .8rem; color: var(--muted); }

      /* Layout presets */
      .vertical { grid-template-columns: 1fr; }
      .horizontal { grid-template-columns: repeat(3, minmax(0, 1fr)); }
      @media (max-width: 900px) { .horizontal { grid-template-columns: repeat(2, minmax(0, 1fr)); } }
      @media (max-width: 640px) { .horizontal { grid-template-columns: 1fr; } }

      @media print {
        body { background: #fff !important; color: #000; }
        .qr-item { background:#fff !important; box-shadow:none; border:1px solid #ddd; }
      }
    </style>
  </head>
  <body
    style="
      --bg1:<%= biz.themeBgHex || '#0ea5e9' %>;
      --bg2:<%= biz.themeBgHex2 || '#6366f1' %>;
      --accent:<%= biz.themeHex || '#111827' %>;
      --text:#111827;
    "
  >
    <div class="container">
      <div class="brand">
        <% if (biz.showLogo && biz.logoUrl) { %>
          <img src="<%= biz.logoUrl %>" alt="Logo"/>
        <% } %>
        <h1><%= biz.publicTitle || ('Welcome to ' + biz.name) %></h1>
        <div class="cta-top"><%= biz.publicSubtitle || 'Comment or share to get a discount!' %></div>
      </div>

      <div class="qr-wrap">
        <div class="qr-grid <%= (biz.qrLayout || 'vertical') %>">
          <% if (biz.instagramUrl) { %>
            <div class="qr-item">
              <h2>Instagram</h2>
              <div class="qr"><img src="/qr/<%= biz.slug %>/instagram.png" alt="Instagram QR"></div>
            </div>
          <% } %>
          <% if (biz.tiktokUrl) { %>
            <div class="qr-item">
              <h2>TikTok</h2>
              <div class="qr"><img src="/qr/<%= biz.slug %>/tiktok.png" alt="TikTok QR"></div>
            </div>
          <% } %>
          <% if (biz.youtubeUrl) { %>
            <div class="qr-item">
              <h2>YouTube</h2>
              <div class="qr"><img src="/qr/<%= biz.slug %>/youtube.png" alt="YouTube QR"></div>
            </div>
          <% } %>
        </div>
      </div>

      <footer>
        <%= biz.publicFooter || ('Thanks for supporting ' + biz.name) %>
      </footer>
    </div>
  </body>
</html>
